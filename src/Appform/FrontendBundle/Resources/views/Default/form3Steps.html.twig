{% extends "AppformFrontendBundle::layout.html.twig" %}
{% form_theme form 'AppformFrontendBundle:Form:fields.html.twig' %}

{% block title %}Moreinfo Application Form{% endblock %}

{% block stylesheets %}
	{% stylesheets
	'@AppformFrontendBundle/Resources/public/form/css/*'
	%}
	<link type="text/css" rel="stylesheet" href="{{ asset_url }}">
	{% endstylesheets %}
{% endblock %}

{% block javascripts %}
	{% javascripts
	'@AppformFrontendBundle/Resources/public/form/js/jquery.1.11.1.min.js'
	'@AppformFrontendBundle/Resources/public/form/js/jquery.ui.min.js'
	'@AppformFrontendBundle/Resources/public/form/js/jquery.validate.min.js'
	'@AppformFrontendBundle/Resources/public/form/js/additional-methods.min.js'
	'@AppformFrontendBundle/Resources/public/form/js/jquery.form.min.js'
	'@AppformFrontendBundle/Resources/public/form/js/j-forms-3.js'
	'@AppformFrontendBundle/Resources/public/form/js/chosen.jquery.min.js'
	'@AppformFrontendBundle/Resources/public/form/js/jquery.maskedinput.min.js'
	%}
	<script type="text/javascript" src="{{ asset_url }}"></script>
	{% endjavascripts %}
{% endblock %}

{% block content %}
	<div class="wrapper wrapper-640">
		<form action="{{ url('appform_frontend_apply') }}" method="post" class="j-forms j-multistep" id="j-forms" {{ form_enctype(form) }} novalidate>
			{{ form_errors(form) }}
			<div class="header">
				<h1>More Information Request</h1>
				<h3>HCENâ€™s Client Network of Nationwide Staffing Agencies</h3>
			</div>
			<div class="content">
				<div class="j-row" style="display:none;">
					<div class="span4 step">
						<div class="steps">
							<p>Personal info</p>
						</div>
					</div>
					<div class="span4 step">
						<div class="steps">
							<p>Additional info</p>
						</div>
					</div>
					<div class="span4 step">
						<div class="steps">
							<p>Info Request</p>
						</div>
					</div>
				</div>
				<fieldset>
					<div class="j-row">
						<div class="span6 unit">
							<div class="input">
								<label class="icon-left" for="appform_frontendbundle_applicant[firstName]">
									<i class="fa fa-user"></i>
								</label>
								{{ form_widget(form.firstName) }}
							</div>
						</div>
						<div class="span6 unit">
							<div class="input">
								<label class="icon-left" for="appform_frontendbundle_applicant[lastName]">
									<i class="fa fa-user"></i>
								</label>
								{{ form_widget(form.lastName) }}
							</div>
						</div>
					</div>
					<div class="j-row">
						<div class="span6 unit">
							<div class="input">
								<label class="icon-left" for="email">
									<i class="fa fa-envelope-o"></i>
								</label>
								{{ form_widget(form.email) }}
							</div>
						</div>
						<div class="unit span6">
						<div class="input">
							<label class="icon-left" for="subject">
								<i class="fa fa-mobile"></i>
							</label>
							{{ form_widget(form.personalInformation.phone) }}
						</div>
					</div>
					</div>
					<div class="j-row">
						<div class="unit span6">
							<div class="input">
								<label class="icon-left" for="subject">
									<i class="fa fa-map-marker"></i>
								</label>
								{{ form_widget(form.personalInformation.state) }}
							</div>
						</div>
					</div>
				</fieldset>
				<fieldset>
					<div class="j-row">
						<div class="unit span6">
							<div class="input">
								<label class="icon-right" for="subject">
									<i class="fa fa-user-md"></i>
								</label>
								{{ form_widget(form.personalInformation.discipline) }}
							</div>
						</div>
						<div class="unit span6">
							<div class="input select">
								{{ form_widget(form.personalInformation.licenseState, {'attr': {'data-placeholder' : "* License State(s)"}}) }}
								<span class="tooltip tooltip-right-top">Select License State(s)</span>
								<i></i>
							</div>
						</div>
					</div>
					<div class="j-row">
						<div class="unit span6">
							<div class="input">
								<label class="icon-right" for="subject">
									<i class="fa fa-graduation-cap"></i>
								</label>
								{{ form_widget(form.personalInformation.specialtyPrimary) }}
							</div>
						</div>
						<div class="unit span6">
							<div class="input">
								<label class="icon-right" for="subject">
									<i class="fa fa-stethoscope"></i>
								</label>
								{{ form_widget(form.personalInformation.yearsLicenceSp) }}
							</div>
						</div>
					</div>
					<div class="j-row">
						<div class="unit span6">
							<div class="input">
								<label class="icon-right" for="subject">
									<i class="fa fa-graduation-cap"></i>
								</label>
								{{ form_widget(form.personalInformation.specialtySecondary, {'attr': {'placeholder': 'Secondary Specialty'}}) }}
							</div>
						</div>
						<div class="unit span6">
							<div class="input">
								<label class="icon-right" for="subject">
									<i class="fa fa-stethoscope"></i>
								</label>
								{{ form_widget(form.personalInformation.yearsLicenceSs) }}
							</div>
						</div>
					</div>
				</fieldset>
				<fieldset>
					<div class="j-row">
						<div class="unit span6">
							<div class="input">
								<label class="icon-right" for="subject">
									<i class="fa fa-check"></i>
								</label>
								{{ form_widget(form.personalInformation.isExperiencedTraveler) }}
							</div>
						</div>
						<div class="unit span6">
							<div class="input select">
								{{ form_widget(form.personalInformation.desiredAssignementState, {'attr': {'data-placeholder' : "* Destination State(s)"}}) }}
								<span class="tooltip tooltip-right-top">Select Desired Assignment State(s)</span>
								<i></i>
							</div>
						</div>
					</div>
					<div class="j-row">
						<div class="unit span6">
							<div class="input">
								<label class="icon-right" for="subject">
									<i class="fa fa-medkit"></i>
								</label>
								{{ form_widget(form.personalInformation.isOnAssignement) }}
							</div>
						</div>
						<div class="span6 unit">
							<div class="input disabled-view">
								<label class="icon-right" for="appform_frontendbundle_applicant_personalInformation_completion">
									<i class="fa fa-calendar"></i>
								</label>
								{{ form_widget(form.personalInformation.completion, {'attr': {'placeholder': 'Date Of completion'}}) }}
							</div>
						</div>
					</div>
					<div class="j-row">
						<div class="unit span6">
							<div class="input">
								<label class="icon-right" for="last_name">
									<i class="fa fa-user"></i>
								</label>
								{{ form_widget(form.personalInformation.assignementTime) }}
							</div>
						</div>
						<div class="span6 unit">
							<label class="input append-big-btn">
								<label class="icon-left" for="file_input">
									<i class="fa fa-download"></i>
								</label>
								<div class="file-button">
									Browse
									{{ form_widget(form.document) }}
								</div>
								<input type="text" id="file_input" readonly="" placeholder="Resume/CV">
								<span class="hint">(Optional) Only: doc, docx, pdf</span>
								<script>
									$('#appform_frontendbundle_applicant_document_file').change(function() {
										$('#file_input').val(this.value);
									});
								</script>
							</label>
						</div>
					</div>
					<div class="j-row">
						<!-- start captcha -->
						<div class="unit span6">
							<label class="label">Captcha</label>
							<div class="captcha-group">
								<div class="input">
									<label class="icon-right" for="captcha_code">
										<i class="fa fa-unlock-alt"></i>
									</label>
									<input type="text" id="captcha_code" name="captcha_code" placeholder="solve the captcha">
									<span class="tooltip tooltip-right-top">Enter sum of the digits</span>
								</div>
								<label class="captcha" for="captcha_code">
									<img src="{{ path('appform_frontend_captchaimage') }}" alt="captcha" />
								</label>
							</div>
						</div>
						<!-- end captcha -->
					</div>

					<div id="response"></div>
				</fieldset>
			</div>
			<!-- end /.content -->
			<div class="footer">
				<div class="j-row">
					<img class="logoimage" src="{{ asset('bundles/appformfrontend/img/logo.png') }}" alt=""/>
					<button type="submit" class="primary-btn multi-submit-btn">Send</button>
					<button type="button" class="primary-btn multi-next-btn">Next</button>
					<button type="button" class="secondary-btn multi-prev-btn">Back</button>
				</div>
			</div>
			<!-- end /.footer -->
		</form>
	</div>

	<script type="text/javascript">
		$(document).ready(function(){
			$('#j-forms')
					.find('#appform_frontendbundle_applicant_personalInformation_licenseState')
					.chosen({
						width: '100%'
					})
					.change(function(e) {
						$("#j-forms").validate().element("#appform_frontendbundle_applicant_personalInformation_licenseState");
					});

			$('#j-forms')
					.find('#appform_frontendbundle_applicant_personalInformation_desiredAssignementState')
					.chosen({
						width: '100%'
					})
					.change(function(e) {
						$("#j-forms").validate().element("#appform_frontendbundle_applicant_personalInformation_desiredAssignementState");
					});

			// Single date with icon
			$(function(){
				$("#appform_frontendbundle_applicant_personalInformation_completion").datepicker({
					dateFormat: 'yy-mm-dd',
					prevText: '<i class="fa fa-caret-left"></i>',
					nextText: '<i class="fa fa-caret-right"></i>'
				});
			});
			// Phone
			$("#appform_frontendbundle_applicant_personalInformation_phone").mask('(999)999-9999', {placeholder:'x'});

			if ($("#appform_frontendbundle_applicant_personalInformation_isOnAssignement").val() == '1') {
				$('#appform_frontendbundle_applicant_personalInformation_completion').removeAttr('disabled').parent().removeClass('disabled-view');
			}
			// Enabled input
			$('#appform_frontendbundle_applicant_personalInformation_isOnAssignement').on('change', function() {
				if ( this.value == '1') {
					$('#appform_frontendbundle_applicant_personalInformation_completion').attr('disabled', false).parent().removeClass('disabled-view error-view success-view');
				} else {
					$('#appform_frontendbundle_applicant_personalInformation_completion').attr('disabled', true).parent().addClass('disabled-view').removeClass('success-view error-view');
					if ( $('#enable-input-error').length ) {
						$('#enable-input-error').css('display', 'none');
					}
				};
			});
			$('input.default').css('width', '100%');
		});
	</script>
{% endblock %}
